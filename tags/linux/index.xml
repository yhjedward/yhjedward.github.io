<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Linux on Windows 7 Style Blog</title>
    <link>/tags/linux/</link>
    <description>Recent content in Linux on Windows 7 Style Blog</description>
    <generator>Hugo</generator>
    <language>zh-cn</language>
    <lastBuildDate>Fri, 09 Aug 2024 15:40:45 +0800</lastBuildDate>
    <atom:link href="/tags/linux/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>Du命令与df命令</title>
      <link>/posts/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/linux/du%E5%91%BD%E4%BB%A4%E4%B8%8Edf%E5%91%BD%E4%BB%A4/</link>
      <pubDate>Fri, 09 Aug 2024 15:40:45 +0800</pubDate>
      <guid>/posts/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/linux/du%E5%91%BD%E4%BB%A4%E4%B8%8Edf%E5%91%BD%E4%BB%A4/</guid>
      <description>&lt;h2 id=&#34;du-命令&#34;&gt;du 命令&lt;/h2&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 显示当前文件夹下文件与目录使用空间&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;du -sh *&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description>
    </item>
    <item>
      <title>CP命令与SCP命令</title>
      <link>/posts/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/linux/cp%E5%91%BD%E4%BB%A4%E4%B8%8Escp%E5%91%BD%E4%BB%A4/</link>
      <pubDate>Mon, 29 Jan 2024 12:01:24 +0800</pubDate>
      <guid>/posts/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/linux/cp%E5%91%BD%E4%BB%A4%E4%B8%8Escp%E5%91%BD%E4%BB%A4/</guid>
      <description>&lt;h4 id=&#34;概述&#34;&gt;概述&lt;/h4&gt;&#xA;&lt;p&gt;&lt;code&gt;scp&lt;/code&gt;（secure copy）是基于 SSH 的安全文件复制工具，用于在本地主机与远程主机之间或两台远程主机之间拷贝文件或目录。&lt;/p&gt;&#xA;&lt;p&gt;优点：数据通过 SSH 加密传输，语法简单，常用于快速传输单个文件或目录。&lt;/p&gt;&#xA;&lt;p&gt;缺点：不适合大规模同步（推荐 rsync），对带宽控制与增量传输支持有限。&lt;/p&gt;&#xA;&lt;hr&gt;&#xA;&lt;h3 id=&#34;语法&#34;&gt;语法&lt;/h3&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;scp [选项] source target&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&#34;常用选项&#34;&gt;常用选项&lt;/h3&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;-r：递归复制目录（必需用于目录）&lt;/li&gt;&#xA;&lt;li&gt;-P port：指定远程 SSH 端口（注意大写 P）&lt;/li&gt;&#xA;&lt;li&gt;-p：保留源文件的修改时间、访问时间以及模式（权限）&lt;/li&gt;&#xA;&lt;li&gt;-C：开启压缩传输（对慢链路有利）&lt;/li&gt;&#xA;&lt;li&gt;-v：详细模式，显示调试/连接信息&lt;/li&gt;&#xA;&lt;li&gt;-q：安静模式，抑制进度与错误信息&lt;/li&gt;&#xA;&lt;li&gt;-o &amp;ldquo;SSH-选项&amp;rdquo;：传递给底层 ssh 的选项，例如 ProxyCommand 或 IdentityFile&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;p&gt;示例：通过 2222 端口递归复制目录并启用压缩：&lt;/p&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;scp -P 2222 -r -C ./mydir user@host:/path/&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;若要使用特定私钥文件：&lt;/p&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;scp -i ~/.ssh/id_rsa file user@host:/path/&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;（注意：某些系统的 scp 版本不支持 -i，写成 -o IdentityFile=~/.ssh/id_rsa 更通用）&lt;/p&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;scp -o IdentityFile=~/.ssh/id_rsa file user@host:/path/&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;hr&gt;&#xA;&lt;h3 id=&#34;示例&#34;&gt;示例&lt;/h3&gt;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;将本地单个文件上传到远程：&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;scp ~/Desktop/report.pdf alice@192.0.2.10:/home/alice/reports/&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;ol start=&#34;2&#34;&gt;&#xA;&lt;li&gt;从远程下载整个目录（保留权限和时间）：&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;scp -r -p bob@server:/var/www/html/ ./site-backup/&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;ol start=&#34;3&#34;&gt;&#xA;&lt;li&gt;使用不同端口和压缩：&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;scp -P 2222 -C secrets.tar.gz root@203.0.113.5:/root/&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;ol&gt;&#xA;&lt;li&gt;从一台远程主机复制到另一台远程主机（由本地发起）：&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;scp user1@host1:/tmp/data.tar.gz user2@host2:/backup/&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;hr&gt;&#xA;&lt;p&gt;示例：使用 rsync 替代（断点续传）&lt;/p&gt;</description>
    </item>
  </channel>
</rss>
